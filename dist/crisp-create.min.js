/*! OpenCrisp CreateJS - v0.2.0 - 2015-08-06
* http://opencrisp.wca.at
* Copyright (c) 2015 Fabian Schmid; Licensed MIT */
!function(a){function b(a){if(this.prototype[a]&&"toString"!==a)throw new Error("Redefined prototype "+a);if(this.hasOwnProperty(a))throw new Error("Can't overwride prototype."+a+" with property!")}function c(a,c){b.call(this,c),this.prototype[c]=a}function d(a){a.xEach({self:this,success:c})}function e(a){a.xEach({self:this,success:d})}function f(a,b){var c={};void 0!==b.proEnu&&(c.enumerable=b.proEnu),void 0!==b.proCon&&(c.configurable=b.proCon),void 0!==b.proWri&&(c.writable=b.proWri),void 0!==b.proVal?c.value=b.proVal:(void 0!==b.proGet||void 0!==b.proSet)&&(c.get=b.proGet,c.set=b.proSet),Object.defineProperty(this,a,c)}function g(a,b){f.call(this,b,a)}function h(a){a.xEach({self:this,success:g})}function i(a){a.xEach({self:this,success:h})}function j(a,b){f.call(this,m(b),a)}function k(a){a.xEach({self:this,success:j})}function l(a){a.xEach({self:this,success:k})}function m(a){return u.concat(a,u)}function n(a,b){if(!this.hasOwnProperty(a))throw new Error("set Option: Property '"+a+"' not defined!");return this[a]=b,this}function o(a,b){n.call(this,m(b),a)}function p(a){a.xEach({self:this,success:o})}function q(a){return[].xAdd(a).xEach({self:this,success:p}),this}function r(a,b){var c=this[a];return void 0===c&&(c="function"==typeof b.preset?b.preset.call(this):b.preset,b.insert&&n.call(this,a,c)),c}function s(a,b){var c=this.data[b];void 0!==c&&(this.obj[b]=c)}function t(b){var c=a.ns(b);this.op.xAdd(c.options),this.pp.xAdd(c.properties),this.pt.xAdd(c.prototypes)}var u="__",v={};a.utilProperty=f,a.ns("util.create").prototypes={objIni:function(a){var b=this._("create");return l.call(this,b.options),i.call(this,b.properties),q.call(this,a)},_:function(b){var c,d;return a.isType(b,"String")?this[m(b)]:(d=m(b.name),c=r.call(this,d,b),b.after&&n.call(this,d,c+b.after),b.before&&n.call(this,d,c+=b.before),c)},objSet:function(a,b){return n.call(this,m(a),b)},objData:function(a){return(this.objNs("util.props")?this:a).xEach({self:{obj:this,data:a},success:s})},objClone:function(){function a(){}return a.prototype=this,new a},objNs:function(a){return-1!==this._("create").ns.indexOf(a)}},a.utilCreate=function(a){var b,c,d,g;return a=a||{},v[a.once]?v[a.once].objClone():(b=a.base||function(){},c={op:[],pp:[],pt:[]},d=["util.create"].xAdd(a.ns).xEach({self:c,success:t}),e.call(b,c.pt.xAdd(a.prototypes)),g=new b,f.call(g,m("create"),{proVal:{ns:d,options:c.op.xAdd(a.options),properties:c.pp.xAdd(a.properties)}}),a.once?(v[a.once]=g,g.objClone()):g)}}(Crisp);