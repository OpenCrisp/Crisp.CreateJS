/*! OpenCrisp CreateJS - v0.2.8 - 2016-02-13
* Copyright (c) 2016 Fabian Schmid; Licensed MIT */
!function(a){function b(a){if(this.prototype[a]&&-1===v.indexOf(a))throw new Error("Redefined prototype "+a);if(this.hasOwnProperty(a))throw new Error("Can't overwride prototype."+a+" with property!")}function c(a,c){b.call(this,c),this.prototype[c]=a}function d(a){a.xEach({self:this,success:c})}function e(a){a.xEach({self:this,success:d})}function f(a,b){var c={};void 0!==b.proEnu&&(c.enumerable=b.proEnu),void 0!==b.proCon&&(c.configurable=b.proCon),void 0!==b.proWri&&(c.writable=b.proWri),void 0!==b.proVal?c.value=b.proVal:(void 0!==b.proGet||void 0!==b.proSet)&&(c.get=b.proGet,c.set=b.proSet),Object.defineProperty(this,a,c)}function g(a){return u.concat(a,u)}function h(a,b){if(!this.hasOwnProperty(a))throw new Error("set Option: Property '"+a+"' not defined!");return this[a]=b,this}function i(a,b){h.call(this,g(b),a)}function j(a){a.xEach({self:this,success:i})}function k(a){return[].xAdd(a).xEach({self:this,success:j}),this}function l(a,b){var c=this[a];return void 0===c&&(c="function"==typeof b.preset?b.preset.call(this):b.preset,b.insert&&h.call(this,a,c)),c}function m(a,b){f.call(this,b,a)}function n(a){a.xEach({self:this,success:m})}function o(a){a.xEach({self:this,success:n})}function p(a,b){f.call(this,g(b),a)}function q(a){a.xEach({self:this,success:p})}function r(a){a.xEach({self:this,success:q})}function s(a,b){var c=this.data[b];void 0!==c&&(this.obj[b]=c)}function t(b){var c=a.ns(b);this.op.xAdd(c.options),this.pp.xAdd(c.properties),this.pt.xAdd(c.prototypes)}var u="__",v=["toString","valueOf"],w={};a.utilProperty=f,a.ns("util.create").prototypes={objIni:function(a){var b=this._("create");return r.call(this,b.options),o.call(this,b.properties),k.call(this,a)},_:function(b){var c,d;return a.type.call(b,"String")?this[g(b)]:(d=g(b.name),c=l.call(this,d,b),b.after&&h.call(this,d,c+b.after),b.before&&h.call(this,d,c+=b.before),c)},objSet:function(a,b){return h.call(this,g(a),b)},objData:function(a){return(this.objNs("util.props")?this:a).xEach({self:{obj:this,data:a},success:s}),this},objClone:function(){function a(){}return a.prototype=this,new a},objNs:function(a){return-1!==this._("create").ns.indexOf(a)}},a.utilCreate=function(a){var b,c,d,h;return a=a||{},w[a.once]?w[a.once].objClone():(b=a.base||function(){},c={op:[],pp:[],pt:[]},d=["util.create"].xAdd(a.ns).xEach({self:c,success:t}),e.call(b,c.pt.xAdd(a.prototypes)),h=new b,f.call(h,g("create"),{proVal:{ns:d,options:c.op.xAdd(a.options),properties:c.pp.xAdd(a.properties)}}),a.once?(w[a.once]=h,h.objClone()):h)}}(Crisp);